<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>Explora Mallorca</title>
        <!-- Favicon-->
        <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
        
        
        <!-- Google fonts-->
        
        <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700&display=swap" rel="stylesheet" type="text/css" />
        <link href="https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic&display=swap" rel="stylesheet" type="text/css" />

        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="crossorigin=""/>
        
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="css/styles.css" rel="stylesheet" />
    </head>
    <body id="page-top">
        
        <div id="blur-overlay"></div>

        <!-- LOGIN BOX -->
        <div id="login-box">
            <h3 id="form-title">Iniciar Sesión</h3>
            <form id="auth-form">
            <input
                type="text"
                id="user-name-input"
                name="name"
                placeholder="Nombre"
                class="login-input"
                style="display: none;"
            >
            <input
                type="email"
                id="login-email"
                name="email"
                placeholder="Correo electrónico"
                class="login-input"
                required
            >
            <input
                type="password"
                id="login-password"
                name="password"
                placeholder="Contraseña"
                class="login-input"
                required
            >
            <button
                type="submit"
                id="login-submit"
                class="login-btn"
            >Ingresar</button>
            </form>
            <p>
            <a href="#" id="toggle-register">¿No tienes cuenta? Regístrate</a>
            </p>
        </div>

        <!-- Navigation-->
        <nav
            class="navbar navbar-expand-lg bg-secondary text-uppercase fixed-top"
            id="mainNav"
        >
            <div class="container">
                <a class="navbar-brand" href="#page-top">
                    <i class="fa-solid fa-compass"></i> Explora Mallorca
                </a>
                <button
                class="navbar-toggler text-uppercase font-weight-bold bg-primary text-white rounded"
                type="button"
                data-bs-toggle="collapse"
                data-bs-target="#navbarResponsive"
                aria-controls="navbarResponsive"
                aria-expanded="false"
                aria-label="Toggle navigation"
                >
                Menu
                <i class="fas fa-bars"></i>
                </button>
                <div class="collapse navbar-collapse" id="navbarResponsive">
                    <ul class="navbar-nav ms-auto">
                        <li class="nav-item mx-0 mx-lg-1">
                        <a
                            class="nav-link py-3 px-0 px-lg-3 rounded"
                            href="#portfolio"
                        >Rutas</a>
                        </li>
                        <li class="nav-item mx-0 mx-lg-1">
                        <a
                            class="nav-link py-3 px-0 px-lg-3 rounded"
                            href="#about"
                        >Conócenos</a>
                        </li>
                        <li class="nav-item mx-0 mx-lg-1">
                        <a
                            class="nav-link py-3 px-0 px-lg-3 rounded"
                            href="#contact"
                        >Contacto</a>
                        </li>

                        <!-- Ícono de usuario (trigger para abrir el modal) -->
                        <!--
                        <li class="nav-item mx-0 mx-lg-1">
                            <a
                                class="nav-link py-3 px-0 px-lg-3 rounded"
                                href="#"
                                id="login-trigger"
                            >
                                <i class="fas fa-user"></i>
                            </a>
                        </li>
                        -->

                        <!-- Bienvenida al usuario (solo cuando hay sesión) -->
                        <!-- 
                        <li class="nav-item dropdown mx-0 mx-lg-1 d-none" id="user-info">
                            <a
                            class="nav-link dropdown-toggle d-flex align-items-center"
                            href="#"
                            id="userDropdown"
                            role="button"
                            data-bs-toggle="dropdown"
                            aria-expanded="false"
                            >
                            <i class="fas fa-user-circle me-1"></i>
                            <span id="user-name">Usuario</span>
                            </a>
                            <ul
                            class="dropdown-menu dropdown-menu-end"
                            aria-labelledby="userDropdown"
                            data-bs-auto-close="outside"
                            >
                            <li>
                                <button
                                class="dropdown-item btn-logout"
                                id="logout-link"
                                >Cerrar sesión</button>
                            </li>
                            </ul>
                        </li>
                        -->
                        
                         <!-- ICONO LOGIN (solo antes de loguear) -->
                         <li class="nav-item" id="login-item">
                            <a
                              class="nav-link py-3 px-0 px-lg-3 d-flex justify-content-center align-items-center"
                              href="#"
                              id="login-trigger"
                            >
                              <i class="fas fa-user profile-icon"></i>
                            </a>
                        </li>
                
                        <!-- PERFIL + NOMBRE + LOGOUT (solo tras loguear) -->
                        <li class="nav-item d-none" id="user-item">
                            <div class="d-flex align-items-center nav-link p-0">
                              <i class="fas fa-user-circle profile-icon me-2"></i>
                              <span id="user-name" class="user-name me-3">Usuario</span>
                              <button id="logout-link" class="btn btn-nav-logout">Cerrar sesión</button>
                            </div>
                        </li>

                    </ul>
                </div>
            </div>
        </nav>

        <!-- Masthead-->
        <header class="masthead text-white text-center">
            <div class="container d-flex align-items-center flex-column">
                <!-- Video como fondo -->
                <video autoplay muted loop id="background-video" class="video-background">
                    <source src="assets/video/VideoPortada.mp4" type="video/mp4">
                    Tu navegador no soporta el elemento de video.
                </video>

                <!-- Masthead Avatar Image-->
                <img class="masthead-avatar mb-5" src="assets/img/avataaars.svg" alt="..." />
                <!-- Masthead Heading-->
                <h1 class="masthead-heading text-uppercase mb-0">Explora Mallorca</h1>
                <!-- Icon Divider-->
                <div class="divider-custom divider-light">
                    <div class="divider-custom-line"></div>
                    <div class="divider-custom-icon"><i class="fa-solid fa-tree"></i></div>
                    <div class="divider-custom-line"></div>
                </div>
                <!-- Masthead Subheading-->
                <p class="masthead-subheading font-weight-light mb-3 speak-text">Descubre las mejores excursiones por Mallorca</p>
                
                <!-- Botón para activar el sonido -->
                <button id="toggle-sound">
                    <i class="fas fa-volume-up"></i> Activar Sonido
                </button>
            </div>
        </header>

        <section class="page-section portfolio" id="portfolio">
            <div class="container">
                
                <h2 class="page-section-heading text-center text-uppercase text-secondary mb-0">Mapa Ubicación en Tiempo Real</h2>
                
                <!-- Icon Divider-->
                <div class="divider-custom">
                    <div class="divider-custom-line"></div>
                    <div class="divider-custom-icon"><i class="fa-solid fa-tree"></i></div>
                    <div class="divider-custom-line"></div>
                </div>

                <!-- Map Section -->
                <div class="map mt-4">
                    <div id="map" style="height: 800px; z-index: 997"></div>
                </div>
            </div>
        </section>

        <!-- Portfolio Section-->
        <section class="page-section portfolio" id="portfolio">
            <div class="container">
                <!-- Portfolio Section Heading-->
                <h2 class="page-section-heading text-center text-uppercase text-secondary mb-0">Rutas</h2>
                
                <!-- Línea Separadora -->
                <div class="divider-custom">
                    <div class="divider-custom-line"></div>
                    <div class="divider-custom-icon"><i class="fa-solid fa-tree"></i></div>
                    <div class="divider-custom-line"></div>
                </div>
                
                <!-- Portfolio Items-->
                <div class="row justify-content-center" id="portfolioGrid"></div>
            </div>
        </section>

        <!-- Contenido de cada Excursión de nuestro portfolio -->
        <div id="portfolioModals">
            <!-- Los modales se insertarán dinámicamente aquí -->
        </div>
        
        <!-- About Section -->
        <section class="page-section bg-primary text-white mb-0" id="about">
            <div class="container">
                <!-- About Section Heading -->
                <h2 class="page-section-heading text-center text-uppercase text-white">Conócenos</h2>
                <!-- Icon Divider -->
                <div class="divider-custom divider-light">
                    <div class="divider-custom-line"></div>
                    <div class="divider-custom-icon"><i class="fas fa-users"></i></div>
                    <div class="divider-custom-line"></div>
                </div>
                
                <!-- About Content -->
                <div class="row text-center">
                    <div class="col-lg-8 mx-auto">
                        <p class="lead">
                            Somos un equipo apasionado por la aventura y la naturaleza. Nuestra misión es ayudarte a descubrir los rincones más mágicos de Mallorca con rutas únicas y experiencias inolvidables.
                        </p>
                    </div>
                </div>

                <!-- Team Section -->
                <div class="row text-center mt-4" id="teamGrid">
                    <!-- Se añaden mediante JS 'members.js' -->
                </div>
            </div>
        </section>

        <!-- Contact Section-->
        <section class="page-section" id="contact">
            <div class="container">
                <!-- Contact Section Heading-->
                <h2 class="page-section-heading text-center text-uppercase text-secondary mb-0">Contacto</h2>
                <!-- Icon Divider-->
                <div class="divider-custom">
                    <div class="divider-custom-line"></div>
                    <div class="divider-custom-icon"><i class="fas fa-tree"></i></div>
                    <div class="divider-custom-line"></div>
                </div>
                <!-- Contact Section Form-->
                <div class="row justify-content-center">
                    <div class="col-lg-8 col-xl-7">
                        <!-- Formulario de Contacto -->
                        <div class="card bg-light p-4 shadow-sm rounded-4">
                            <form action="https://formspree.io/f/xgvagkzd" method="POST" class="row g-3">
                                <!-- Nombre -->
                                <div class="col-12 col-md-6 mb-3">
                                    <label for="contactName" class="form-label">Nombre</label>
                                    <input 
                                    type="text"
                                    id="contactName" 
                                    name="name" 
                                    class="form-control" 
                                    placeholder="Tu nombre" 
                                    required
                                    >
                                </div>
                                <!-- Correo -->
                                <div class="col-12 col-md-6 mb-3">
                                    <label for="contactEmail" class="form-label">Correo electrónico</label>
                                    <input 
                                    type="email"
                                    id="contactEmail" 
                                    name="email" 
                                    class="form-control" 
                                    placeholder="Tu correo" 
                                    required
                                    >
                                </div>
                                <!-- Mensaje -->
                                <div class="col-12 mb-3">
                                    <label for="contactMessage" class="form-label">Mensaje</label>
                                    <textarea 
                                    id="contactMessage" 
                                    name="message" 
                                    class="form-control" 
                                    placeholder="Tu mensaje..."
                                    rows="6"
                                    required
                                    ></textarea>
                                </div>
                                <!-- Botón -->
                                <div class="col-12 text-center">
                                    <button type="submit" class="btn btn-primary btn-lg px-5">
                                    <i class="fas fa-paper-plane me-2"></i>Enviar
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!-- Footer-->
        <footer class="footer text-center">
            <div class="container">
                <div class="row">
                    <!-- Footer Location-->
                    <div class="col-lg-4 mb-5 mb-lg-0">
                        <h4 class="text-uppercase mb-4">Localización</h4>
                        <p class="lead mb-0">
                            Palma de Mallorca
                            <br />
                            Islas Baleares, ES
                        </p>
                    </div>
                    <!-- Footer Social Icons-->
                    <div class="col-lg-4 mb-5 mb-lg-0">
                        <h4 class="text-uppercase mb-4">Síguenos en las Redes</h4>
                        <a class="btn btn-outline-light btn-social mx-1" href="#!"><i class="fab fa-fw fa-facebook-f"></i></a>
                        <a class="btn btn-outline-light btn-social mx-1" href="#!"><i class="fab fa-fw fa-twitter"></i></a>
                        <a class="btn btn-outline-light btn-social mx-1" href="#!"><i class="fab fa-fw fa-linkedin-in"></i></a>

                        <!-- <a class="btn btn-outline-light btn-social mx-1" href="#!"><i class="fab fa-fw fa-github"></i></a> -->
                    </div>
                    
                    <!-- Footer About Text-->
                    <div class="col-lg-4">
                        <h4 class="text-uppercase mb-4">Nuestra misión</h4>
                        <p class="lead mb-0">
                            Nuestro propósito es conectar a las personas con la naturaleza a través de excursiones de senderismo en Mallorca.
                        </p>
                    </div>
                </div>
            </div>
        </footer>

        <!-- Copyright Section-->
        <div class="copyright py-4 text-center text-white">
            <div class="container">
                <small>Copyright &copy; Explora Mallorca <span id="current-year"></span></small>
            </div>
        </div>

        <!-- Chatbot Flotante -->
        <div class="chatbot-container">
            <div class="chatbot-button" id="chatbotToggle">
                <i class="fas fa-comments"></i>
            </div>
            <div class="chatbot-window" id="chatbotWindow">
                <div class="chatbot-header">
                    <h2 class="fs-5 fw-bold m-0">Chatbot Explora Mallorca</h2> 
                    <button id="closeChatbot">&times;</button>
                </div>
                <div class="chatbot-body" id="chatbotBody">
                    <p class="bot-message">¡Hola! ¿En qué puedo ayudarte?</p>
                </div>
                <div class="chatbot-footer">
                    <input type="text" id="chatInput" placeholder="Escribe un mensaje...">
                    <button id="sendMessage"><i class="fas fa-paper-plane"></i></button>
                </div>
            </div>
        </div>

        <!-- Font Awesome icons (free version)-->
        <script src="https://use.fontawesome.com/releases/v6.3.0/js/all.js" crossorigin="anonymous" async></script>
        <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="crossorigin=""></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-gpx/1.4.0/gpx.min.js"></script>
        <script src="js/loadMaps.js" async></script>
        <!-- Script para añadir los miembros del equipo -->
        <script src="js/members.js" async></script>

        <!-- Script para cargar los datos JSON desde la URL -->
        
        <script src="js/cargaDatos.js"></script>
        <script src="js/registros.js"></script>
        
        <script src="js/textToSpeech.js"></script>
        <script src="js/contacto.js"></script>
        <script src="js/weather.js"></script>
        <!-- Bootstrap core JS
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
        -->
        <!-- Bootstrap JS -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
        <!-- Core theme JS-->
        <script src="js/scripts.js"></script>
    </body>
</html>
