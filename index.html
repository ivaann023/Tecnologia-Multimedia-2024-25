<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>Explora Mallorca</title>
        
        <!-- SVG -->
        <link rel="icon" type="image/x-icon" href="assets/logo.ico" />
                
        <!-- Google fonts-->
        <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700&display=swap" rel="stylesheet" type="text/css" />
        <link href="https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic&display=swap" rel="stylesheet" type="text/css" />
        
        <!-- CSS -->
        <link href="css/styles.css" rel="stylesheet" defer/>
        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="crossorigin="" defer/>
        
    </head>

    <body id="page-top">
        
        <div id="blur-overlay"></div>

        <!-- LOGIN BOX -->
        <div id="login-box">
            <h3 id="form-title">Iniciar Sesión</h3>
            <form id="auth-form">
            <input
                type="text"
                id="user-name-input"
                name="name"
                placeholder="Nombre"
                class="login-input"
                style="display: none;"
            >
            <input
                type="email"
                id="login-email"
                name="email"
                placeholder="Correo electrónico"
                class="login-input"
                required
            >
            <input
                type="password"
                id="login-password"
                name="password"
                placeholder="Contraseña"
                class="login-input"
                required
            >
            <button
                type="submit"
                id="login-submit"
                class="login-btn"
            >Ingresar</button>
            </form>
            <p>
            <a href="#" id="toggle-register">¿No tienes cuenta? Regístrate</a>
            </p>
        </div>

        <!-- Navigation-->
        <nav
            class="navbar navbar-expand-lg bg-secondary text-uppercase fixed-top"
            id="mainNav"
        >
            <div class="container">
                <a class="navbar-brand" href="#page-top">
                    <i class="fa-solid fa-compass"></i> Explora Mallorca
                </a>
                <button
                class="navbar-toggler text-uppercase font-weight-bold bg-primary text-white rounded"
                type="button"
                data-bs-toggle="collapse"
                data-bs-target="#navbarResponsive"
                aria-controls="navbarResponsive"
                aria-expanded="false"
                aria-label="Toggle navigation"
                >
                Menu
                <i class="fas fa-bars"></i>
                </button>
                <div class="collapse navbar-collapse" id="navbarResponsive">
                    <ul class="navbar-nav ms-auto">
                        <li class="nav-item mx-0 mx-lg-1">
                        <a
                            class="nav-link py-3 px-0 px-lg-3 rounded"
                            href="#portfolio"
                        >Rutas</a>
                        </li>
                        <li class="nav-item mx-0 mx-lg-1">
                        <a
                            class="nav-link py-3 px-0 px-lg-3 rounded"
                            href="#about"
                        >Conócenos</a>
                        </li>
                        <li class="nav-item mx-0 mx-lg-1">
                        <a
                            class="nav-link py-3 px-0 px-lg-3 rounded"
                            href="#contact"
                        >Contacto</a>
                        </li>
                        
                         <!-- ICONO LOGIN (solo antes de loguear) -->
                         <li class="nav-item" id="login-item">
                            <a
                              class="nav-link py-3 px-0 px-lg-3 d-flex justify-content-center align-items-center"
                              href="#"
                              id="login-trigger"
                              aria-label="Iniciar sesión"
                            >
                              <i class="fas fa-user profile-icon"></i>
                            </a>
                        </li>
                
                        <!-- PERFIL + NOMBRE + LOGOUT (solo tras loguear) -->
                        <li class="nav-item d-none" id="user-item">
                            <div class="d-flex align-items-center nav-link p-0">
                              <i class="fas fa-user-circle profile-icon me-2"></i>
                              <span id="user-name" class="user-name me-3">Usuario</span>
                              <button id="logout-link" class="btn btn-nav-logout">Cerrar sesión</button>
                            </div>
                        </li>

                    </ul>
                </div>
            </div>
        </nav>

        <!-- Masthead-->
        <header class="masthead text-white text-center">
            <div class="container d-flex align-items-center flex-column">
                
                <!-- Video como fondo -->
                <video autoplay muted loop id="background-video" class="video-background">
                    
                    <source src="assets/video/VideoPortada.webm" type="video/webm">
                    Tu navegador no soporta el elemento de video.

                    <!-- Pista de subtítulos -->
                    <track
                        kind="captions"
                        src="assets/video/subtitulos.vtt"
                        srclang="es"
                        label="Español"
                        default
                    />

                </video>

                <!-- Masthead Avatar Image-->
                <img class="masthead-avatar mb-5" src="assets/img/logo.svg" alt="Logo" fetchpriority="high"/>
                <!-- Masthead Heading-->
                <h1 class="masthead-heading text-uppercase mb-0">Explora Mallorca</h1>
                <!-- Icon Divider-->
                <div class="divider-custom divider-light">
                    <div class="divider-custom-line"></div>
                    <div class="divider-custom-icon"><i class="fa-solid fa-tree"></i></div>
                    <div class="divider-custom-line"></div>
                </div>
                <!-- Masthead Subheading-->
                <p class="masthead-subheading font-weight-light mb-3 speak-text">Descubre las mejores excursiones por Mallorca</p>
                
                <!-- Botón para activar el sonido -->
                <button id="toggle-sound">
                    <i class="fas fa-volume-up"></i> Activar Sonido
                </button>
            </div>
        </header>

        <section class="page-section portfolio" id="portfolio">
            <div class="container">
                
                <h2 class="page-section-heading text-center text-uppercase text-secondary">Mapa Orientativo</h2>
                
                <!-- Icon Divider-->
                <div class="divider-custom">
                    <div class="divider-custom-line"></div>
                    <div class="divider-custom-icon"><i class="fa-solid fa-tree"></i></div>
                    <div class="divider-custom-line"></div>
                </div>

                <!-- Map Section -->
                <div class="map mt-4">
                    <div id="map" style="height: 800px; z-index: 997"></div>
                </div>
            </div>
        </section>

        <!-- Portfolio Section-->
        <section class="page-section portfolio" id="portfolio">
            <div class="container">
                <!-- Portfolio Section Heading-->
                <h2 class="page-section-heading text-center text-uppercase text-secondary mb-0">Rutas</h2>
                
                <!-- Línea Separadora -->
                <div class="divider-custom">
                    <div class="divider-custom-line"></div>
                    <div class="divider-custom-icon"><i class="fa-solid fa-tree"></i></div>
                    <div class="divider-custom-line"></div>
                </div>
                
                <!-- Portfolio Items-->
                <div class="row justify-content-center" id="portfolioGrid"></div>
                
                <!-- Controles de Paginación del Portfolio -->
                <nav>
                    <ul class="pagination justify-content-center mt-4" id="excursionPagination"></ul>
                </nav>

            </div>
        </section>

        <!-- Contenido de cada Excursión de nuestro portfolio -->
        <div id="portfolioModals">
            <!-- Los modales se insertarán dinámicamente aquí -->
        </div>
        
        <!-- About Section -->
        <section class="page-section bg-primary text-white" id="about">
            <div class="container">
                <!-- About Section Heading -->
                <h2 class="page-section-heading text-center text-uppercase text-white">Conócenos</h2>
                <!-- Icon Divider -->
                <div class="divider-custom divider-light">
                    <div class="divider-custom-line"></div>
                    <div class="divider-custom-icon"><i class="fas fa-users"></i></div>
                    <div class="divider-custom-line"></div>
                </div>
                
                <!-- About Content -->
                <div class="row text-center">
                    <div class="col-lg-8 mx-auto">
                        <p class="lead">
                            Somos un equipo apasionado por la aventura y la naturaleza. Nuestra misión es ayudarte a descubrir los rincones más mágicos de Mallorca con rutas únicas y experiencias inolvidables.
                        </p>
                    </div>
                </div>

                <!-- Team Section -->
                <div class="row text-center mt-4 mb-4" id="teamGrid">
                    <!-- Se añaden mediante JS 'members.js' -->
                </div>

                <!-- Video Section -->
                <section class="page-section bg-primary text-white" id="teamVideo">
                    <div class="container">
                        <h2 class="page-section-heading text-center text-uppercase text-white">Nuestro Vídeo</h2>
                        <div class="divider-custom divider-light mb-4">
                        <div class="divider-custom-line"></div>
                        <div class="divider-custom-icon"><i class="fas fa-video"></i></div>
                        <div class="divider-custom-line"></div>
                        </div>

                        <div class="d-flex justify-content-center">
                        <div class="video-container">
                            <video 
                                id="team-video" 
                                class="video-content"
                                controlsList="nodownload"
                                oncontextmenu="return false;"
                            >
                            <source src="assets/video/MultAngel.webm" type="video/webm">
                            Tu navegador no soporta el elemento de vídeo.
                            </video>
                            <div class="video-controls d-flex align-items-center justify-content-center mt-3">
                            <button id="play-btn"  class="btn btn-primary me-2"><i class="fas fa-play"></i></button>
                            <button id="pause-btn" class="btn btn-primary me-2"><i class="fas fa-pause"></i></button>
                            <button id="stop-btn"  class="btn btn-primary me-2"><i class="fas fa-stop"></i></button>
                            <div class="d-flex align-items-center ms-3">
                                <i class="fas fa-volume-down me-2"></i>
                                <input id="volume-slider"
                                    type="range"
                                    min="0" max="1" step="0.05"
                                    value="0"
                                    class="form-range"
                                    style="width: 120px;">
                                <i class="fas fa-volume-up ms-2"></i>
                            </div>
                            </div>
                        </div>
                        </div>
                    </div>
                </section>

            </div>
        </section>

        <!-- Contact Section-->
        <section class="page-section" id="contact">
            <div class="container">
                <!-- Contact Section Heading-->
                <h2 class="page-section-heading text-center text-uppercase text-secondary mb-0">Contacto</h2>
                <!-- Icon Divider-->
                <div class="divider-custom">
                    <div class="divider-custom-line"></div>
                    <div class="divider-custom-icon"><i class="fas fa-tree"></i></div>
                    <div class="divider-custom-line"></div>
                </div>
                <!-- Contact Section Form-->
                <div class="row justify-content-center">
                    <div class="col-lg-8 col-xl-7">
                        <!-- Formulario de Contacto -->
                        <div class="card bg-light p-4 shadow-sm rounded-4">
                            <form action="https://formspree.io/f/xgvagkzd" method="POST" class="row g-3">
                                <!-- Nombre -->
                                <div class="col-12 col-md-6 mb-3">
                                    <label for="contactName" class="form-label">Nombre</label>
                                    <input 
                                    type="text"
                                    id="contactName" 
                                    name="name" 
                                    class="form-control" 
                                    placeholder="Tu nombre" 
                                    required
                                    >
                                </div>
                                <!-- Correo -->
                                <div class="col-12 col-md-6 mb-3">
                                    <label for="contactEmail" class="form-label">Correo electrónico</label>
                                    <input 
                                    type="email"
                                    id="contactEmail" 
                                    name="email" 
                                    class="form-control" 
                                    placeholder="Tu correo" 
                                    required
                                    >
                                </div>
                                <!-- Mensaje -->
                                <div class="col-12 mb-3">
                                    <label for="contactMessage" class="form-label">Mensaje</label>
                                    <textarea 
                                    id="contactMessage" 
                                    name="message" 
                                    class="form-control" 
                                    placeholder="Tu mensaje..."
                                    rows="6"
                                    required
                                    ></textarea>
                                </div>
                                <!-- Botón -->
                                <div class="col-12 text-center">
                                    <button type="submit" class="btn btn-primary btn-lg px-5 bg-primary">
                                    <i class="fas fa-paper-plane me-2"></i>Enviar
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Footer-->
        <footer class="footer">
            <div class="container">
                <div class="row justify-content-center">
                
                <!-- Footer GitHub -->
                <div class="col-lg-4 mb-5 mb-lg-0 text-center">
                    <h3 class="text-uppercase mb-4">Repositorio</h3>
                    <p class="lead mb-0">
                    Aquí encontrarás el código fuente completo de este proyecto.
                    </p>
                    <a class="btn btn-outline-light btn-social mx-1 mt-2" 
                    href="https://github.com/ivaann023/Tecnologia-Multimedia-2024-25" 
                    target="_blank" 
                    aria-label="Ver en GitHub">
                    <i class="fab fa-fw fa-github"></i>
                    </a>
                </div>

                <!-- Footer Location-->
                <div class="col-lg-4 mb-5 mb-lg-0 text-center">
                    <h3 class="text-uppercase mb-4">Localización</h3>
                    <p class="lead mb-0">
                    Palma de Mallorca
                    <br />
                    Islas Baleares, ES
                    </p>
                </div>

                <!-- Footer About Text-->
                <div class="col-lg-4 text-center">
                    <h3 class="text-uppercase mb-4">Nuestra misión</h3>
                    <p class="lead mb-0">
                    Nuestro propósito es conectar a las personas con la naturaleza a través de excursiones de senderismo en Mallorca.
                    </p>
                </div>

                </div>
            </div>
        </footer>


        <!-- Copyright Section-->
        <div class="copyright py-4 text-center text-white">
            <div class="container">
                <small>Copyright &copy; Explora Mallorca <span id="current-year"></span></small>
            </div>
        </div>

        <!-- Chatbot Flotante -->
        <div class="chatbot-container">
            <script type="text/javascript">
                var Tawk_API=Tawk_API||{}, Tawk_LoadStart=new Date();
                (function(){
                var s1=document.createElement("script"),s0=document.getElementsByTagName("script")[0];
                s1.async=true;
                s1.src='https://embed.tawk.to/68302e9b43c424190bb6f45e/1iru3c4cf';
                s1.charset='UTF-8';
                s1.setAttribute('crossorigin','*');
                s0.parentNode.insertBefore(s1,s0);
                })();
            </script>
        </div>

        <script type="module" src="https://cdn.jsdelivr.net/npm/@justinribeiro/lite-youtube@1/lite-youtube.min.js" async></script>
        
        <!-- Font Awesome icons (free version)-->
        <script src="https://use.fontawesome.com/releases/v6.3.0/js/all.js" crossorigin="anonymous" async></script>
        <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="crossorigin=""></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-gpx/1.4.0/gpx.min.js"></script>
        <script src="js/loadMaps.js" async></script>
        <!-- Script para añadir los miembros del equipo -->
        <script src="js/members.js" async></script>

        
        <script src="js/registros.js"></script>

        <!-- Script para cargar los datos JSON desde la URL -->
        <script src="js/cargaDatos.js"></script>
        
        
        <script src="js/textToSpeech.js"></script>
        <script src="js/contacto.js"></script>
        <script src="js/weather.js"></script>
        <!-- Bootstrap core JS
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
        -->
        <!-- Bootstrap JS -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
        <!-- Core theme JS-->
        <script src="js/scripts.js"></script>
    </body>
</html>
